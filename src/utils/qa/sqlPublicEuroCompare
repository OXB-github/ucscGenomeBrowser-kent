# Check for sql database numbers being equal

euroDb="`mysql --user=genome --host=genome-euro-mysql.soe.ucsc.edu -Ne "show databases" | wc -l`"
rrDb="`mysql --user=genome --host=mysqlrr.soe.ucsc.edu -Ne "show databases" | wc -l`"
# Option to include a diff statement here 
if [ $euroDb = $rrDb ]
 then
   echo "Same number of databases, $euroDb = $rrDb"
 else
   echo "Different number of databases, $euroDb in Euro versus $rrDb in RR"
fi

# Check update times
# Unfortunately, it would be table specific and so I chose not to do that
# #hgsql -e "show table status like 'gap'\G" galGal6

# Check table number in hg19, hg38, mm10
for db in hg19 hg38 mm10;
do
   euroTbls="`mysql --user=genome --host=genome-euro-mysql.soe.ucsc.edu -Ne 'show tables' $db | wc -l`"
   rrTbls="`mysql --user=genome --host=mysqlrr.soe.ucsc.edu -Ne 'show tables' $db | wc -l`"
   #  Option to include a diff statement here
   if [[ "$euroTbls" = "$rrTbls" ]];
    then
      echo "Same number of tables in $db, $euroTbls = $rrTbls"
    else
      echo "Different number of tables in $db, $euroTbls in Euro versus $rrTbls in RR"
   fi
done;
